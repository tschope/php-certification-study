import{_ as C,r as u,i as E,x as n,y as t,D as S,E as D,z as v,F as c,G as d,H as x,I as A,J as U,K as y,L as m,v as r,m as g,q as V}from"./BJqDwa92.js";import{_ as j}from"./0AbEWBNf.js";const q={class:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4"},B={key:0,class:"text-blue-500 text-center mb-4"},N={class:"mb-4"},F=["disabled"],L={class:"mb-4"},M=["disabled"],Y={class:"mb-4"},$=["value","disabled"],z=["for"],J={key:0,class:"text-red-500 text-sm mt-1"},O={class:"mb-6"},R=["disabled"],G=["disabled"],H={class:"mt-4"},K={class:"text-sm text-gray-600"},W={__name:"index",setup(Q){const s=u({applicationId:"",email:"",selectedTimes:[],weekends:!1}),l=u({text:"",type:""}),f=["8:00","10:00","13:00","16:00","18:00"],i=u(!1),w=V(),_=E(()=>l.value.type==="success"?"bg-green-100 text-green-700 border border-green-500":"bg-red-100 text-red-700 border border-red-500"),p=o=>{const[e,a]=o.split(":");return`${String(e).padStart(2,"0")}:${a}`},h=async()=>{if(s.value.selectedTimes.length>2){l.value={text:"You can select a maximum of 2 times.",type:"error"};return}i.value=!0,l.value.text="";try{const o=await fetch(`${w.public.apiBase}/application-email`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({applicationId:s.value.applicationId,email:s.value.email,send_time_1:p(s.value.selectedTimes[0]||"00:00"),send_time_2:p(s.value.selectedTimes[1]||"00:00"),weekends:s.value.weekends})});if(!o.ok){const e=await o.json();l.value={text:e.message||"An unexpected error occurred. Please try again later.",type:"error"};return}l.value={text:"Your application was submitted successfully!",type:"success"},k()}catch{l.value={text:"An unexpected error occurred. Please try again later.",type:"error"}}finally{i.value=!1}},k=()=>{s.value.applicationId="",s.value.email="",s.value.selectedTimes=[],s.value.weekends=!1},T=()=>{g("/unsubscribe")},I=()=>{g("/privacy")};return(o,e)=>(r(),n("div",q,[e[8]||(e[8]=t("h1",{class:"text-4xl font-bold mb-4 text-center"}," PHP Certification Study ",-1)),e[9]||(e[9]=t("img",{src:j,alt:"Logo",class:"w-[460px] h-[180px] mb-4"},null,-1)),e[10]||(e[10]=t("p",{class:"text-lg text-gray-700 mb-8 text-center max-w-2xl"}," This website helps you stay updated about your Irish Passport application. Enter your Application ID, Email, choose the times you'd like to receive notifications, and let us keep you informed via email updates. ",-1)),l.value.text?(r(),n("div",{key:0,class:S([D(_),"w-full max-w-md text-center p-4 mb-4 rounded-lg"])},v(l.value.text),3)):c("",!0),t("form",{onSubmit:m(h,["prevent"]),class:"bg-white shadow-md rounded-lg p-6 w-full max-w-md"},[i.value?(r(),n("div",B,"Processing your request...")):c("",!0),t("div",N,[e[4]||(e[4]=t("label",{for:"applicationId",class:"block text-gray-700 font-medium mb-2"}," Application ID ",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.applicationId=a),type:"text",id:"applicationId",placeholder:"Enter your Application ID",disabled:i.value,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200 disabled:bg-gray-200",required:""},null,8,F),[[x,s.value.applicationId]])]),t("div",L,[e[5]||(e[5]=t("label",{for:"email",class:"block text-gray-700 font-medium mb-2"}," E-mail ",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.email=a),type:"email",id:"email",placeholder:"Enter your email",disabled:i.value,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200 disabled:bg-gray-200",required:""},null,8,M),[[x,s.value.email]])]),t("div",Y,[e[6]||(e[6]=t("p",{class:"text-gray-700 font-medium mb-2"}," What time(s) would you like to receive notifications? ",-1)),(r(),n(A,null,U(f,(a,b)=>t("div",{key:b,class:"mb-2"},[d(t("input",{type:"checkbox",value:a,"onUpdate:modelValue":e[2]||(e[2]=P=>s.value.selectedTimes=P),disabled:i.value||s.value.selectedTimes.length>=2&&!s.value.selectedTimes.includes(a),id:"time-{{ index }}"},null,8,$),[[y,s.value.selectedTimes]]),t("label",{for:"time-"+b,class:"ml-2 text-gray-600"},v(a),9,z)])),64)),s.value.selectedTimes.length>2?(r(),n("p",J," You can select a maximum of 2 times. ")):c("",!0)]),t("div",O,[d(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=a=>s.value.weekends=a),id:"weekends",disabled:i.value},null,8,R),[[y,s.value.weekends]]),e[7]||(e[7]=t("label",{for:"weekends",class:"ml-2 text-gray-700"}," Receive notifications on weekends? ",-1))]),t("button",{type:"submit",disabled:i.value,class:"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-400"}," Submit ",8,G)],32),t("div",H,[t("p",K,[t("a",{onClick:m(T,["prevent"]),class:"text-blue-500 hover:underline cursor-pointer"}," Unsubscribe "),t("a",{onClick:m(I,["prevent"]),class:"text-blue-500 hover:underline cursor-pointer"}," Privacy Policy ")])])]))}},ee=C(W,[["__scopeId","data-v-34ea9104"]]);export{ee as default};
